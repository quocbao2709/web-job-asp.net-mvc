@model Job_Web.Models.ApplicationUser

@{
ViewData["Title"] = "Chỉnh Sửa Thông Tin Người Dùng";
}

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h1 class="display-6">Edit User Information</h1>
        </div>
        <div class="card-body">
            <form asp-action="Edit" method="post" enctype="multipart/form-data">
                <dl class="row">
                    
                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="Email" class="form-control" readonly />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </dd>
                    <dt class="col-sm-4">Name:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="Name" class="form-control" Required />
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">Address:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="Adress" class="form-control" Required />
                        <span asp-validation-for="Adress" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">City:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="City" class="form-control" Required />
                        <span asp-validation-for="City" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">Education:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="Education" class="form-control" Required />
                        <span asp-validation-for="Education" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">Work Experience:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="WorkExperience" class="form-control" Required />
                        <span asp-validation-for="WorkExperience" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">Skills:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="Skills" class="form-control" Required />
                        <span asp-validation-for="Skills" class="text-danger"></span>
                    </dd>

                    <dt class="col-sm-4">Date of Birth:</dt>
                    <dd class="col-sm-8">
                        <input asp-for="DateOfBirth" class="form-control" type="date" Required />
                        <span asp-validation-for="DateOfBirth" class="text-danger"></span>
                    </dd>

                    @* Hiển thị phần upload CV hoặc tên file hiện tại *@
                    <dt class="col-sm-4">File CV:</dt>
                    <dd class="col-sm-8">
                        @if (string.IsNullOrEmpty(Model.ResumeFilePath))
                        {
                            <input type="file" name="resumeFile" class="form-control" Required />
                        }
                        else
                        {
                            <label>File CV : </label>
                            <a href="@Url.Content(Model.ResumeFilePath)" download="@System.IO.Path.GetFileName(Model.ResumeFilePath)" class="btn btn-link">@System.IO.Path.GetFileName(Model.ResumeFilePath)</a>
                            <br />
                            
                        }
                    </dd>
                </dl>

                <button type="submit" class="btn btn-primary">Save Change</button>
                <a href="@Url.Action("Show")" class="btn btn-secondary">cancel</a>
            </form>
            <form asp-action="DeleteResume" method="post" class="d-inline">
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-danger">Delete CV</button>
            </form>
        </div>
    </div>
</div>

@* Validation scripts *@
@section Scripts {
@{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}
